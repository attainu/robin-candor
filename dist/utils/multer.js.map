{"version":3,"sources":["../../src/utils/multer.js"],"names":["memoryStorage","multer","cloudUpload","storage","fileFilter","req","file","callback","ext","path","extname","originalname","res","end","single","module","exports"],"mappings":";;;;AAAA;;AACA;;AAEA,IAAMA,aAAa,GAAGC,mBAAOD,aAAP,EAAtB;;AAEA,IAAME,WAAW,GAAG,wBAAO;AACvBC,EAAAA,OAAO,EAAEH,aADc;AAEvBI,EAAAA,UAAU,EAAE,oBAACC,GAAD,EAAMC,IAAN,EAAYC,QAAZ,EAAyB;AACjC,QAAIC,GAAG,GAAGC,iBAAKC,OAAL,CAAaJ,IAAI,CAACK,YAAlB,CAAV;;AACA,QAAIH,GAAG,KAAK,MAAR,IAAkBA,GAAG,KAAK,MAA1B,IAAoCA,GAAG,KAAK,MAA5C,IAAsDA,GAAG,KAAK,OAAlE,EAA2E;AACvE,aAAOD,QAAQ,CAACK,GAAG,CAACC,GAAJ,CAAQ,yBAAR,CAAD,EAAqC,IAArC,CAAf;AACH;;AACDN,IAAAA,QAAQ,CAAC,IAAD,EAAO,IAAP,CAAR;AACH;AARsB,CAAP,EASjBO,MATiB,CASV,OATU,CAApB;AAWAC,MAAM,CAACC,OAAP,GAAiBd,WAAjB","sourcesContent":["import multer from 'multer';\nimport path from 'path';\n\nconst memoryStorage = multer.memoryStorage();\n\nconst cloudUpload = multer({\n    storage: memoryStorage,\n    fileFilter: (req, file, callback) => {\n        let ext = path.extname(file.originalname)\n        if (ext !== '.png' && ext !== '.jpg' && ext !== '.gif' && ext !== '.jpeg') {\n            return callback(res.end('Only images are allowed'), null)\n        }\n        callback(null, true);\n    }\n}).single('image');\n\nmodule.exports = cloudUpload;"],"file":"multer.js"}