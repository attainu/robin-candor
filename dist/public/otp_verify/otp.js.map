{"version":3,"sources":["../../../src/public/otp_verify/otp.js"],"names":["window","onload","document","getElementById","focus","btn","server_url","location","protocol","host","onclick","email","value","xhttp","XMLHttpRequest","body","console","log","open","setRequestHeader","send","JSON","stringify","innerHTML","responseText","submit_otp","submit_otp_url","otp"],"mappings":";;AAAAA,MAAM,CAACC,MAAP,GAAgB,YAAM;AAClBC,EAAAA,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC;AACA,MAAIC,GAAG,GAAGH,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAV;AACA,MAAIG,UAAU,GAAGC,QAAQ,CAACC,QAAT,GAAkB,IAAlB,GAAuBD,QAAQ,CAACE,IAAhC,GAAsC,oBAAvD;;AACAJ,EAAAA,GAAG,CAACK,OAAJ,GAAc,YAAM;AAChB,QAAIC,KAAK,GAAGT,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCS,KAA7C;AACA,QAAIC,KAAK,GAAG,IAAIC,cAAJ,EAAZ;AACA,QAAIC,IAAI,GAAG;AACPJ,MAAAA,KAAK,EAAEA;AADA,KAAX;AAGAK,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAJ,IAAAA,KAAK,CAACK,IAAN,CAAW,MAAX,EAAmBZ,UAAnB,EAA+B,IAA/B;AACAO,IAAAA,KAAK,CAACM,gBAAN,CAAuB,cAAvB,EAAuC,kBAAvC;AACAN,IAAAA,KAAK,CAACO,IAAN,CAAWC,IAAI,CAACC,SAAL,CAAeP,IAAf,CAAX;;AACAF,IAAAA,KAAK,CAACZ,MAAN,GAAe,YAAM;AACjBC,MAAAA,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCoB,SAApC,GAAgDV,KAAK,CAACW,YAAtD;AACH,KAFD;AAGH,GAbD;;AAcA,MAAIC,UAAU,GAAGvB,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAjB;;AACAsB,EAAAA,UAAU,CAACf,OAAX,GAAqB,YAAM;AACvB,QAAIgB,cAAc,GAAGnB,QAAQ,CAACC,QAAT,GAAkB,IAAlB,GAAuBD,QAAQ,CAACE,IAAhC,GAAqC,mBAA1D;AACA,QAAIE,KAAK,GAAGT,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCS,KAA7C;AACA,QAAIe,GAAG,GAAGzB,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCS,KAA/C;AACA,QAAIC,KAAK,GAAG,IAAIC,cAAJ,EAAZ;AACAD,IAAAA,KAAK,CAACK,IAAN,CAAW,KAAX,EAAkBQ,cAAc,mBAAYC,GAAZ,oBAAyBhB,KAAzB,CAAhC,EAAkE,IAAlE;AACAE,IAAAA,KAAK,CAACO,IAAN;;AACAP,IAAAA,KAAK,CAACZ,MAAN,GAAe,YAAM;AACjBC,MAAAA,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCoB,SAAtC,GAAkDV,KAAK,CAACW,YAAxD;AACH,KAFD;AAGH,GAVD;AAWH,CA9BD","sourcesContent":["window.onload = () => {\n    document.getElementById(\"username\").focus();\n    let btn = document.getElementById('otp_button');\n    let server_url = location.protocol+'//'+location.host+ '/users/request_otp';\n    btn.onclick = () => {\n        let email = document.getElementById(\"email\").value;\n        let xhttp = new XMLHttpRequest();\n        let body = {\n            email: email\n        };\n        console.log(\"sending\");\n        xhttp.open(\"POST\", server_url, true);\n        xhttp.setRequestHeader('Content-Type', 'application/json');\n        xhttp.send(JSON.stringify(body));\n        xhttp.onload = () => {\n            document.getElementById('otp_sent').innerHTML = xhttp.responseText;\n        };\n    };\n    let submit_otp = document.getElementById('submit_otp');\n    submit_otp.onclick = () => {\n        let submit_otp_url = location.protocol+'//'+location.host+'/users/submit_otp';\n        let email = document.getElementById(\"email\").value;\n        let otp = document.getElementById('otp_input').value;\n        let xhttp = new XMLHttpRequest();\n        xhttp.open(\"GET\", submit_otp_url + `/?otp=${otp}&email=${email}`, true);\n        xhttp.send();\n        xhttp.onload = () => {\n            document.getElementById('otp_verify').innerHTML = xhttp.responseText;\n        }\n    }\n}\n\n"],"file":"otp.js"}